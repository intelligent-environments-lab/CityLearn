

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The CityLearn Challenge 2020 &mdash; CityLearn 2.3.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-dropdown.css?v=995e94df" />
      <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.min.css?v=21c0b90a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=67b02a41"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="../contributing.html" />
    <link rel="prev" title="The CityLearn Challenge 2021" href="2021.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CityLearn
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">QuickStart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">citylearn</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The CityLearn Challenge</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#editions">Editions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="2023.html">The CityLearn Challenge 2023</a></li>
<li class="toctree-l3"><a class="reference internal" href="2022.html">The CityLearn Challenge 2022</a></li>
<li class="toctree-l3"><a class="reference internal" href="2021.html">The CityLearn Challenge 2021</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">The CityLearn Challenge 2020</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#objective">Objective</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rules-and-instructions-of-the-challenge">Rules and Instructions of the Challenge</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submission">Submission</a></li>
<li class="toctree-l4"><a class="reference internal" href="#team-members">Team Members</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submission-deadlines">Submission Deadlines</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timeline">Timeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stages-of-the-challenge">Stages of the Challenge</a></li>
<li class="toctree-l4"><a class="reference internal" href="#leaderboard">Leaderboard</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CityLearn</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">The CityLearn Challenge</a></li>
      <li class="breadcrumb-item active">The CityLearn Challenge 2020</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/intelligent-environments-lab/CityLearn/blob/master/docs/source/citylearn_challenge/2020.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-citylearn-challenge-2020">
<h1>The CityLearn Challenge 2020<a class="headerlink" href="#the-citylearn-challenge-2020" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The CityLearn Challenge 2020 has now concluded!</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The CityLearn Challenge 2020 <span id="id1">[<a class="reference internal" href="../references.html#id22" title="José R. Vázquez-Canteli, Sourav Dey, Gregor Henze, and Zoltan Nagy. The citylearn challenge 2020. In Proceedings of the 7th ACM International Conference on Systems for Energy-Efficient Buildings, Cities, and Transportation, BuildSys '20, 320–321. New York, NY, USA, 2020. Association for Computing Machinery. URL: https://doi.org/10.1145/3408308.3431122, doi:10.1145/3408308.3431122.">24</a>]</span> used The CityLearn Challenge 2020 dataset <span id="id2">[<a class="reference internal" href="../references.html#id17" title="Jose Vazquez Canteli and Zoltan Nagy. The CityLearn Challenge 2020. 2020. URL: https://doi.org/10.18738/T8/ZQKK6E, doi:10.18738/T8/ZQKK6E.">26</a>]</span> and <a class="reference external" href="https://github.com/intelligent-environments-lab/CityLearn/tree/v1.0.0">CityLearn v1.0.0</a>. To install this CityLearn version, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>-b<span class="w"> </span>v1.0.0<span class="w"> </span>https://github.com/intelligent-environments-lab/CityLearn.git
</pre></div>
</div>
</div>
<section id="objective">
<h2>Objective<a class="headerlink" href="#objective" title="Link to this heading"></a></h2>
<p>The objective of the challenge is to explore the potential of reinforcement learning as a control approach for building energy coordination and demand response <span id="id3">[<a class="reference internal" href="../references.html#id22" title="José R. Vázquez-Canteli, Sourav Dey, Gregor Henze, and Zoltan Nagy. The citylearn challenge 2020. In Proceedings of the 7th ACM International Conference on Systems for Energy-Efficient Buildings, Cities, and Transportation, BuildSys '20, 320–321. New York, NY, USA, 2020. Association for Computing Machinery. URL: https://doi.org/10.1145/3408308.3431122, doi:10.1145/3408308.3431122.">24</a>]</span>. In particular, participants will design, tune, and pre-train one central, or multiple decentralized, RL agents that minimize a multi-objective cost function of 5 equally weighted metrics in an entire district of buildings:</p>
<ol class="arabic simple">
<li><p>Peak demand (for the entire simulated period)</p></li>
<li><p>Average daily peak demand (daily peak demand of the district averaged over a year)</p></li>
<li><p>Ramping</p></li>
<li><p>1 - Load factor (which will tend to 0 as the load factor approaches 1)</p></li>
<li><p>Net electricity consumption</p></li>
</ol>
<img alt="The CityLearn Challenge 2020 Reinforcement Learning Building Portfolio Coordination Challenge Diagram" class="align-center" src="../_images/citylearn_challenge_2020_reinforcement_learning_overview.jpeg" />
<p>This multi-objective cost function is normalized by a baseline cost obtained from the performance of a rule-based-controller (RBC) tuned by hand. Therefore, RL_cost &lt; 1 means that the RL agent performs better than a simple RBC.</p>
<p>To analyze the plug-and-play and adaptive potential of RL, the controllers will be evaluated on a different dataset than the one that will be shared for the design, tuning, and pre-training of the controllers.</p>
</section>
<section id="rules-and-instructions-of-the-challenge">
<h2>Rules and Instructions of the Challenge<a class="headerlink" href="#rules-and-instructions-of-the-challenge" title="Link to this heading"></a></h2>
<p>Participants were provided with a design data set comprised of four sets of data from nine buildings each. Each set will have been simulated in one of four anonymous climate zones in the US. The dataset contained year-long hourly information about the cooling and DHW demand of the building, electricity consumed by appliances, solar power generation, as well as weather data and other variables. The design dataset were made available in the CityLearn GitHub repository after January 15th 2020, teams could sign up anytime before of after that date.</p>
<p>Participants used the design dataset to design, tune, and pre-train their RL controller(s) with the objective of shaping the load in the district and minimize the multi-objective cost function of the environment. Participants could select the states and actions the RL agents will use in each building in the file <code class="file docutils literal notranslate"><span class="pre">buildings_state_action_space.json</span></code>, and could define their own reward function by modifying the file <code class="file docutils literal notranslate"><span class="pre">reward_function.py</span></code>. Communication among buildings were allowed and must be coded within the file <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code>. Both centralized, and distributed controllers were allowed, and agents can take decisions both sequentially or simultaneously as long as it was all coded within the file <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code>. The file <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code> could call another file, to be made by the participants, which can contain the parameters of the pre-trained RL controllers. In the Github repository we provided a sample RL agent under the class <code class="xref py py-class docutils literal notranslate"><span class="pre">RL_Agents</span></code>, which had not been tuned or pre-trained but was only provided as an example.</p>
<p>Participants submitted their files <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code>, <code class="file docutils literal notranslate"><span class="pre">reward_function.py</span></code>, <code class="file docutils literal notranslate"><span class="pre">buildings_state_action_space.json</span></code>, and any file with the parameters of the pre-trained agents for their evaluation on an evaluation dataset, which were comprised of different buildings in the same climate zones but different cities. Participants received a score and the leader board was updated.</p>
<p>At the challenge stage, participants submitted their agents and reward function for the final run on the challenge dataset, which was different than the design and the evaluation datasets.</p>
<p>In the evaluation and challenge stages we will paste the files submitted (<code class="file docutils literal notranslate"><span class="pre">agent.py</span></code>, <code class="file docutils literal notranslate"><span class="pre">reward_function.py</span></code>, <code class="file docutils literal notranslate"><span class="pre">buildings_state_action_space.json</span></code>, and file with pre-trained policies, weights, or other parameters) to the CityLearn folder, and run the file <code class="file docutils literal notranslate"><span class="pre">main.py`</span></code> as it is. Therefore, it is important that any RL agents be coded within the class <code class="xref py py-class docutils literal notranslate"><span class="pre">RL_Agents</span></code> in the <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code> file.</p>
</section>
<section id="submission">
<h2>Submission<a class="headerlink" href="#submission" title="Link to this heading"></a></h2>
<p>The RL agents must be written in Python 3 and can use PyTorch or TensorFlow, as well as any other library that is already used in our GitHub repository. It must be able to run in both Windows and Linux OS, in either GPU (not necessary) or CPU (if GPU is not used or is not available). Files will be submitted by email to <a class="reference external" href="mailto:citylearn&#37;&#52;&#48;utexas&#46;edu">citylearn<span>&#64;</span>utexas<span>&#46;</span>edu</a> under the subject “Submission StageOfChallenge Team_name”, where the StageOfChallenge can be “Evaluation Stage” or “Challenge Stage”.</p>
<p>At the evaluation and challenge stages, the agents will be simulated on a single one-year episode for buildings in four different climates, and the obtained costs are averaged to provide the final cost and update the leaderboard. Therefore, participants are encouraged to submit agents that have been pre-trained enough to perform well at the exploration phase but that are still able to learn from and adapt to the new buildings and weather conditions.</p>
<p>Some basic information about the characteristics of the buildings is provided to the agents in the file <code class="file docutils literal notranslate"><span class="pre">main.py</span></code> using the CityLearn method <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_building_information()</span></code>. This method provides information about the type of building, climate zone, solar power capacity, total DHW, cooling, and non-shiftable energy consumption, and about the correlations of the demand profiles with the rest of the buildings. The agent(s) in the file <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code> are not allowed to read any of the files in the folder <code class="file docutils literal notranslate"><span class="pre">data</span></code>.</p>
</section>
<section id="team-members">
<h2>Team Members<a class="headerlink" href="#team-members" title="Link to this heading"></a></h2>
<p>Each team can consist of maximum three members. The sign up link is <a class="reference external" href="https://docs.google.com/forms/d/e/1FAIpQLSf8PeqKqw9lzI7xSmjXqdTzzqbYdl3GrgOb7hpPtXETjQVlSg/viewform">here</a>.</p>
</section>
<section id="submission-deadlines">
<h2>Submission Deadlines<a class="headerlink" href="#submission-deadlines" title="Link to this heading"></a></h2>
<p>Please see the timeline below for the detailed timeline of the three stages of the challenge.</p>
</section>
<section id="timeline">
<h2>Timeline<a class="headerlink" href="#timeline" title="Link to this heading"></a></h2>
<img alt="The CityLearn Challenge 2020 timeline" class="align-center" src="../_images/citylearn_challenge_2020_timeline.jpeg" />
</section>
<section id="stages-of-the-challenge">
<h2>Stages of the Challenge<a class="headerlink" href="#stages-of-the-challenge" title="Link to this heading"></a></h2>
<p>The challenge consisted of three stages:</p>
<ol class="arabic simple">
<li><p><strong>Design Stage</strong>: The participants received four sets of building data and models in 4 anonymized climate zones. Each set contained data from 9 different buildings. The participants designed, tuned and trained RL agents at their convenience and modified the files: <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code>, <code class="file docutils literal notranslate"><span class="pre">buildings_state_action_space.json</span></code>, and <code class="file docutils literal notranslate"><span class="pre">reward_function.py</span></code>. A third optional file can be created and submitted with weights and policies to be read by the <code class="file docutils literal notranslate"><span class="pre">agent.py</span></code> file.</p></li>
<li><p><strong>Evaluation Stage</strong>: The participants submitted their trained agents which are run by the organizers on the evaluation set. The evaluation set consists of four sets of building data and models in 4 anonymized climate zones. Each set will contain data from 9 different buildings. The participants’ agents were tested on this evaluation set and the leaderboard is updated within a week of the submitted agent.</p></li>
<li><p><strong>Challenge Stage</strong>: This is the final stage of the competition where the participants submitted their final agent(s). The agent was tested on the challenge set which consists of four sets of building data and models in 4 anonymized climate zones. Each set contained data from 9 different buildings. The participants received scores and the leaderboard was updated for the final time revealing the top scorers in the challenge.</p></li>
</ol>
</section>
<section id="leaderboard">
<h2>Leaderboard<a class="headerlink" href="#leaderboard" title="Link to this heading"></a></h2>
<p>The leader-board displays the score of the individual participant’s agents within less than one week of the participant’s submission. This will provide the participants feedback about how their agent is performing compared to other participants in the challenge. The participants can improve and re-submit their agents as many times as they want within the Evaluation Stage. This cycle of submission and score update will continue till the time frame of the evaluation stage which continues till the end of June 12th AoE. The final deadline for the submission of the agents to be run on the challenge data set is the end of June 21st AoE.</p>
<p>The scores of the leaderboard represent how well the reinforcement learning controller performs with respect to the baseline rule-based controller (RBC), i.e. a score of 0.9 indicates a performance 10% better than the RBC.</p>
<p>We congratulate the winning team, PikaPika, formed by <a class="reference external" href="https://bigaidream.github.io">Jie Fu</a>, Bingchan Zhao, and <a class="reference external" href="https://zsdonghao.github.io">Hao Dong</a> from Mila (Polytechnique Montréal), and Peking University, who achieved a final score on the challenge set of 0.879!!</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Team Summary</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Team Name</p></th>
<th class="head"><p>Affiliation</p></th>
<th class="head"><p>Members</p></th>
<th class="head"><p>Final Score (Lower is better)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PikaPika</p></td>
<td><p>Mila, Polytechnique Montréal; Peking University</p></td>
<td><p>Bingchan Zhao, Jie Fu, Hao Dong</p></td>
<td><p>0.879</p></td>
</tr>
<tr class="row-odd"><td><p>ProtoBuds</p></td>
<td><p>University College Dublin</p></td>
<td><p>Anjukan Kathirgamanathan, Kacper Twardowski</p></td>
<td><p>0.967</p></td>
</tr>
<tr class="row-even"><td><p>Learned City</p></td>
<td><p>RWTH Aachen</p></td>
<td><p>Vinay K.R. Bheemreddy, Thomas Schreiber, Stephen Alexander</p></td>
<td><p>1.028</p></td>
</tr>
<tr class="row-odd"><td><p>EoRL</p></td>
<td><p>Freie Universität Berlin</p></td>
<td><p>Filip Tolovski</p></td>
<td><p>1.068</p></td>
</tr>
</tbody>
</table>
<img alt="The CityLearn Challenge 2020 dataset leaderboard 1" class="align-center" src="../_images/citylearn_challenge_2020_challenge_dataset_leaderboard_1.jpeg" />
<img alt="The CityLearn Challenge 2020 dataset leaderboard 2" class="align-center" src="../_images/citylearn_challenge_2020_challenge_dataset_leaderboard_2.jpeg" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2021.html" class="btn btn-neutral float-left" title="The CityLearn Challenge 2021" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Jose Ramon Vazquez-Canteli, Kingsley Nweye, Zoltan Nagy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>