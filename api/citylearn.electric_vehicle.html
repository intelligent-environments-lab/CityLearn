

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>citylearn.electric_vehicle module &mdash; CityLearn 2.3b0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-dropdown.css?v=995e94df" />
      <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.min.css?v=21c0b90a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=44d8073d"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="citylearn.electric_vehicle_charger module" href="citylearn.electric_vehicle_charger.html" />
    <link rel="prev" title="citylearn.dynamics module" href="citylearn.dynamics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CityLearn
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">QuickStart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">citylearn</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="citylearn.html">citylearn package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="citylearn.html#subpackages">Subpackages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="citylearn.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="citylearn.base.html">citylearn.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.building.html">citylearn.building module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.citylearn.html">citylearn.citylearn module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.cost_function.html">citylearn.cost_function module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.data.html">citylearn.data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.dynamics.html">citylearn.dynamics module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">citylearn.electric_vehicle module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.electric_vehicle_charger.html">citylearn.electric_vehicle_charger module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.energy_model.html">citylearn.energy_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.occupant.html">citylearn.occupant module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.power_outage.html">citylearn.power_outage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.preprocessing.html">citylearn.preprocessing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.reward_function.html">citylearn.reward_function module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.rl.html">citylearn.rl module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.utilities.html">citylearn.utilities module</a></li>
<li class="toctree-l4"><a class="reference internal" href="citylearn.wrappers.html">citylearn.wrappers module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../citylearn_challenge/index.html">The CityLearn Challenge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CityLearn</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">citylearn</a></li>
          <li class="breadcrumb-item"><a href="citylearn.html">citylearn package</a></li>
      <li class="breadcrumb-item active">citylearn.electric_vehicle module</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/intelligent-environments-lab/CityLearn/blob/master/docs/source/api/citylearn.electric_vehicle.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-citylearn.electric_vehicle">
<span id="citylearn-electric-vehicle-module"></span><h1>citylearn.electric_vehicle module<a class="headerlink" href="#module-citylearn.electric_vehicle" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">citylearn.electric_vehicle.</span></span><span class="sig-name descname"><span class="pre">ElectricVehicle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">electric_vehicle_simulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="citylearn.data.html#citylearn.data.ElectricVehicleSimulation" title="citylearn.data.ElectricVehicleSimulation"><span class="pre">ElectricVehicleSimulation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">episode_tracker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="citylearn.base.html#citylearn.base.EpisodeTracker" title="citylearn.base.EpisodeTracker"><span class="pre">EpisodeTracker</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observation_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">battery</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="citylearn.energy_model.html#citylearn.energy_model.Battery" title="citylearn.energy_model.Battery"><span class="pre">Battery</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_battery_soc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="citylearn.base.html#citylearn.base.Environment" title="citylearn.base.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.action_metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">action_metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.action_metadata" title="Link to this definition"></a></dt>
<dd><p>Mapping od active and inactive actions.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.action_space">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">action_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Box</span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.action_space" title="Link to this definition"></a></dt>
<dd><p>Agent action spaces.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.active_actions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_actions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.active_actions" title="Link to this definition"></a></dt>
<dd><p>Actions in <cite>action_metadata</cite> with True value i.e.
indicates which storage systems are to be controlled during simulation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.active_observations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_observations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.active_observations" title="Link to this definition"></a></dt>
<dd><p>Observations in <cite>observation_metadata</cite> with True value i.e. obeservable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.adjust_electric_vehicle_soc_on_system_connection">
<span class="sig-name descname"><span class="pre">adjust_electric_vehicle_soc_on_system_connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">soc_system_connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.adjust_electric_vehicle_soc_on_system_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.adjust_electric_vehicle_soc_on_system_connection" title="Link to this definition"></a></dt>
<dd><p>Adjusts the state of charge (SoC) of an electric vehicle’s (Electric_Vehicle’s) battery upon connection to the system.</p>
<p>When an Electric_Vehicle is in transit, the system “loses” the connection and does not know how much battery
has been used during travel. As such, when an Electric_Vehicle enters an incoming or connected state, its battery
SoC is updated to be close to the predicted SoC at arrival present in the Electric_Vehicle dataset.</p>
<p>However, predictions sometimes fail, so this method introduces variability for the simulation by
randomly creating a discrepancy between the predicted value and a “real-world inspired” value. This discrepancy
is generated using a normal (Gaussian) distribution, which is more likely to produce values near 0 and less
likely to produce extreme values.</p>
<p>The range of potential variation is between -30% to +30% of the predicted SoC, with most of the values
being close to 0 (i.e., the prediction). The exact amount of variation is calculated by taking a random
value from the normal distribution and scaling it by the predicted SoC. This value is then added to the
predicted SoC to get the actual SoC, which can be higher or lower than the prediction.</p>
<p>The difference between the actual SoC and the initial SoC (before the adjustment) is passed to the
battery’s charge method. If the difference is positive, the battery is charged; if the difference is negative,
the battery is discharged.</p>
<p>For example, if the Electric_Vehicle dataset has a predicted SoC at arrival of 20% (of the battery’s total capacity),
this method can randomly adjust the Electric_Vehicle’s battery to 22% or 19%, or even by a larger margin such as 40%.</p>
<p>Args:
soc_system_connection (float): The predicted SoC at system connection, expressed as a percentage of the
battery’s total capacity.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.autosize_battery">
<span class="sig-name descname"><span class="pre">autosize_battery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.autosize_battery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.autosize_battery" title="Link to this definition"></a></dt>
<dd><p>Autosize <cite>Battery</cite> for a typical Electric_Vehicle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Other keyword arguments parsed to <cite>electrical_storage</cite> <cite>autosize</cite> function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.battery">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">battery</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="citylearn.energy_model.html#citylearn.energy_model.Battery" title="citylearn.energy_model.Battery"><span class="pre">Battery</span></a></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.battery" title="Link to this definition"></a></dt>
<dd><p>Battery for Electric_Vehicle.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.electric_vehicle_simulation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">electric_vehicle_simulation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="citylearn.data.html#citylearn.data.ElectricVehicleSimulation" title="citylearn.data.ElectricVehicleSimulation"><span class="pre">ElectricVehicleSimulation</span></a></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.electric_vehicle_simulation" title="Link to this definition"></a></dt>
<dd><p>Return the Electric_Vehicle simulation data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.estimate_action_space">
<span class="sig-name descname"><span class="pre">estimate_action_space</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Box</span></span></span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.estimate_action_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.estimate_action_space" title="Link to this definition"></a></dt>
<dd><p>Get estimate of action spaces.
Find minimum and maximum possible values of all the actions, which can then be used by the RL agent to scale the selected actions.
:returns: <strong>action_space</strong> – Action low and high limits.
:rtype: spaces.Box</p>
<p class="rubric">Notes</p>
<p>The lower and upper bounds for the <cite>cooling_storage</cite>, <cite>heating_storage</cite> and <cite>dhw_storage</cite> actions are set to (+/-) 1/maximum_demand for each respective end use,
as the energy storage device can’t provide the building with more energy than it will ever need for a given time step. .
For example, if <cite>cooling_storage</cite> capacity is 20 kWh and the maximum <cite>cooling_demand</cite> is 5 kWh, its actions will be bounded between -5/20 and 5/20.
These boundaries should speed up the learning process of the agents and make them more stable compared to setting them to -1 and 1.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.estimate_observation_space">
<span class="sig-name descname"><span class="pre">estimate_observation_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodic_normalization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Box</span></span></span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.estimate_observation_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.estimate_observation_space" title="Link to this definition"></a></dt>
<dd><p>Get estimate of observation spaces.
:param include_all: Whether to estimate for all observations as listed in <cite>observation_metadata</cite> or only those that are active.
:type include_all: bool, default: False,
:param normalize: Whether to apply min-max normalization bounded between [0, 1].
:type normalize: bool, default: False
:param periodic_normalization: Whether to apply sine-cosine normalization to cyclic observations including hour, day_type and month.
:type periodic_normalization: bool, default: False</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>observation_space</strong> – Observation low and high limits.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>spaces.Box</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.estimate_observation_space_limits">
<span class="sig-name descname"><span class="pre">estimate_observation_space_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodic_normalization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.estimate_observation_space_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.estimate_observation_space_limits" title="Link to this definition"></a></dt>
<dd><p>Get estimate of observation space limits.
Find minimum and maximum possible values of all the observations, which can then be used by the RL agent to scale the observations and train any function approximators more effectively.
:param include_all: Whether to estimate for all observations as listed in <cite>observation_metadata</cite> or only those that are active.
:type include_all: bool, default: False,
:param periodic_normalization: Whether to apply sine-cosine normalization to cyclic observations including hour, day_type and month.
:type periodic_normalization: bool, default: False</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>observation_space_limits</strong> – Observation low and high limits.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[Mapping[str, float], Mapping[str, float]]</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Lower and upper bounds of net electricity consumption are rough estimates and may not be completely accurate hence,
scaling this observation-variable using these bounds may result in normalized values above 1 or below 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.get_periodic_observation_metadata">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_periodic_observation_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">range</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.get_periodic_observation_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.get_periodic_observation_metadata" title="Link to this definition"></a></dt>
<dd><p>Get periodic observation names and their minimum and maximum values for periodic/cyclic normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>periodic_observation_metadata</strong> – Observation low and high limits.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping[str, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.min_battery_soc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">min_battery_soc</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.min_battery_soc" title="Link to this definition"></a></dt>
<dd><p>Min battery soc percentage.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.name" title="Link to this definition"></a></dt>
<dd><p>Unique building name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.next_time_step">
<span class="sig-name descname"><span class="pre">next_time_step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.next_time_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.next_time_step" title="Link to this definition"></a></dt>
<dd><p>Advance Electric_Vehicle to the next <a href="#id1"><span class="problematic" id="id2">`</span></a>time_step`s</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.observation_metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observation_metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.observation_metadata" title="Link to this definition"></a></dt>
<dd><p>Mapping of active and inactive observations.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.observation_space">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observation_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Box</span></em><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.observation_space" title="Link to this definition"></a></dt>
<dd><p>Agent observation space.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.observations">
<span class="sig-name descname"><span class="pre">observations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodic_normalization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.observations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.observations" title="Link to this definition"></a></dt>
<dd><p>Observations at current time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_all</strong> (<em>bool</em><em>, </em><em>default: False</em><em>,</em>) – Whether to estimate for all observations as listed in <cite>observation_metadata</cite> or only those that are active.</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>default: False</em>) – Whether to apply min-max normalization bounded between [0, 1].</p></li>
<li><p><strong>periodic_normalization</strong> (<em>bool</em><em>, </em><em>default: False</em>) – Whether to apply sine-cosine normalization to cyclic observations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>observation_space</strong> – Observation low and high limits.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>spaces.Box</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.observations_length">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observations_length</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.observations_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.observations_length" title="Link to this definition"></a></dt>
<dd><p>Get periodic observation names and their minimum and maximum values for periodic/cyclic normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>periodic_observation_metadata</strong> – Observation low and high limits.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping[str, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="citylearn.electric_vehicle.ElectricVehicle.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/citylearn/electric_vehicle.html#ElectricVehicle.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#citylearn.electric_vehicle.ElectricVehicle.reset" title="Link to this definition"></a></dt>
<dd><p>Reset the EVCar to its initial state.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="citylearn.dynamics.html" class="btn btn-neutral float-left" title="citylearn.dynamics module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="citylearn.electric_vehicle_charger.html" class="btn btn-neutral float-right" title="citylearn.electric_vehicle_charger module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Jose Ramon Vazquez-Canteli, Kingsley Nweye, Zoltan Nagy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>